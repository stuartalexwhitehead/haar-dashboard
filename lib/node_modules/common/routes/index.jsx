import React from 'react';
import { Route, IndexRoute } from 'react-router';

import ApplicationLayout from 'common/layouts/application-layout';
import DashboardLayout from 'common/layouts/dashboard-layout';

import Homepage from 'common/views/homepage';
import Dashboard from 'common/views/dashboard';
import Login from 'common/views/login';

import Users from 'common/views/users';
import AddUser from 'common/views/users/add';
import EditUser from 'common/views/users/edit';
import Profile from 'common/views/users/profile';

import DeviceTypes from 'common/views/device-types';
import EditDeviceType from 'common/views/device-types/edit';
import AddDeviceType from 'common/views/device-types/add';

import Devices from 'common/views/devices';
import AddDevice from 'common/views/devices/add';
import EditDevice from 'common/views/devices/edit';

import Rules from 'common/views/rules';
import AddRule from 'common/views/rules/add';
import EditRule from 'common/views/rules/edit';

import Data from 'common/views/data';

function createRoutes(requireAuth = null) {
  const routes = (
    <Route path="/" component={ApplicationLayout} >
      <IndexRoute component={Homepage} />
      <Route path="login" component={Login} />

      <Route path="dashboard" component={DashboardLayout}>
        <IndexRoute component={Dashboard} onEnter={requireAuth} />

        <Route path="me" component={Profile} onEnter={requireAuth} />
        <Route path="users" component={Users} onEnter={requireAuth} />
        <Route path="users/add" component={AddUser} onEnter={requireAuth} />
        <Route path="users/:user/edit" component={EditUser} onEnter={requireAuth} />

        <Route path="device-types" component={DeviceTypes} onEnter={requireAuth} />
        <Route path="device-types/add" component={AddDeviceType} onEnter={requireAuth} />
        <Route
          path="device-types/:deviceType/edit"
          component={EditDeviceType}
          onEnter={requireAuth}
        />

        <Route path="devices" component={Devices} onEnter={requireAuth} />
        <Route path="devices/add" component={AddDevice} onEnter={requireAuth} />
        <Route path="devices/:device/edit" component={EditDevice} onEnter={requireAuth} />
        <Route path="devices/:device/data" component={Data} onEnter={requireAuth} />
        <Route path="devices/:device/rules" component={Rules} onEnter={requireAuth} />
        <Route path="devices/:device/rules/add" component={AddRule} onEnter={requireAuth} />
        <Route path="devices/:device/rules/:rule/edit" component={EditRule} onEnter={requireAuth} />
      </Route>
    </Route>
  );

  return routes;
}

export default createRoutes;
