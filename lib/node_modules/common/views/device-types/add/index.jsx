import React from 'react';
import { connect } from 'react-redux';

import DashboardHeader from 'common/components/dashboard-header';
import { addDeviceType } from 'common/actions/device-types';
import DeviceTypeForm from 'common/forms/device-type-form';

class AddDeviceType extends React.Component {
  static requireAdmin: true;

  static propTypes = {
    dispatch: React.PropTypes.func,
  }

  submitCallback = (data) => {
    const { dispatch } = this.props;

    return dispatch(addDeviceType({
      data,
    }));
  }

  render() {
    return (
      <div>
        <DashboardHeader title="Add a Device Type" />
        <DeviceTypeForm onSubmit={this.submitCallback} cta="Submit" />
      </div>
    );
  }
}

export default connect()(AddDeviceType);
